{% extends "djangoapp/base.html" %}
<!-- 
    EXTENDS BASE TEMPLATE BLOCKS:
    - title
    - content
-->
{% load static %}
    
<!-- Update Title: I'd like to include dealer's name but we only have int..-->
{% block title %}Reviews for Dealer{% endblock %}

<!-- PAGE CONTENT -->
{% block content %}
<div class=""> <!-- CONTAINER -->
    <div>
        <h2>Dealer Reviews</h2>
        {% url 'djangoapp:add_review' dealer_id as review_url %}
        <a href="{{ review_url }}">Leave a review</a> for this dealership.
    </div>
    <!-- Add reviews as cards -->
    <div class="card-columns">
        {% for r in reviews %}
        <div class="card">
            <!-- SENTIMENT ICON -->
            {% if r.sentiment == "positive" %}
            <img class="card-img-left" src="{{MEDIA_URL}}/emoji/positive.png">
            {% elif r.sentment == "negative" %}
            <img class="card-img-left" src="{{MEDIA_URL}}/emoji/negative.png">
            {% else %}
            <img class="card-img-left" src="{{MEDIA_URL}}/emoji/neutral.png">
            {% endif %}
            <!-- REVIEW DATA -->
            <div class="card-body">
                <h4 class="card-title">{{r.car_make}} {{r.car_model}}</h4>
                <h5 class="card-title">{{r.car_year}}</h5>
                <p class="card-text">{{r.review}}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}